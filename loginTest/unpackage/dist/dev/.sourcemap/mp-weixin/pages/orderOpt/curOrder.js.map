{"version":3,"sources":["webpack:////Users/daniel/Desktop/loginTest/main.js","webpack:////Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue?0b15","webpack:////Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue?37ca","webpack:////Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue?1bcb","webpack:////Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue?d2f5","webpack:////Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue"],"names":["createPage","Page","computed","data","curOrderItems","waitOrderItems","isOrderDetailVisible","curOrderNum","curOrderLocation","curOrderDetail","orderStatusItems","current","isShowTakeOrderButton","isShowScanValveButton","showVCDetail","showDeliverDetail","undefined","VCDetail","Valve","cldToDeliver","fabContent","text","iconPath","pattern","submitType","location","nextDelivererId","curLat","curLng","methods","onClickItem","e","currentIndex","getWaitOrder","getCurrentOrder","refreshOrder","uni","startPullDownRefresh","success","res","request","url","constVal","baseURL","method","toStaffIdFirst","userId","toStaffIdSecond","orderStatusFirst","orderStatusSecond","rows","forEach","item","orderStatus","currentStaffId","showOrderDetail","orderNum","clientLocation","takeOrder","sysOrder","code","showToast","icon","title","sendPush","ScanValveToTrans","scanQRCode","showMapToHome","lat","lng","getLocation","latitude","longitude","changeLat","changeLng","toOrderMap","_this","scanCode","scanType","JSON","parse","result","trim","getVCDetail","valveNum","fail","console","log","ScanValveToHome","confirmAddCld","checkAddCldStampId","stampId","triggerShowModal","bindHideVCDetail","hideDeliverDetail","removeCurCld","index","splice","confirmDeliver","length","stampIds","toUserId","cldMove","onLoad","onPullDownRefresh","setTimeout","stopPullDownRefresh"],"mappings":"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","file":"pages/orderOpt/curOrder.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/orderOpt/curOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./curOrder.vue?vue&type=template&id=1d958f4b&\"\nvar renderjs\nimport script from \"./curOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./curOrder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/daniel/Desktop/loginTest/pages/orderOpt/curOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./curOrder.vue?vue&type=template&id=1d958f4b&\"","var components = {\n  \"uni-segmented-control\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-segmented-control/uni-segmented-control\" */ \"@/components/uni-segmented-control/uni-segmented-control.vue\"\n    )\n  },\n  \"uni-drawer\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-drawer/uni-drawer\" */ \"@/components/uni-drawer/uni-drawer.vue\"\n    )\n  },\n  \"neil-modal\": function() {\n    return import(\n      /* webpackChunkName: \"components/neil-modal/neil-modal\" */ \"@/components/neil-modal/neil-modal.vue\"\n    )\n  },\n  \"uni-fab\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-fab/uni-fab\" */ \"@/components/uni-fab/uni-fab.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.waitOrderItems, function(item, index) {\n    var m0 = _vm.parseTime(item.createDate)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.curOrderItems, function(item, index) {\n    var m1 = _vm.parseTime(item.createDate)\n    return {\n      $orig: _vm.__get_orig(item),\n      m1: m1\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isOrderDetailVisible = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./curOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./curOrder.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState,\n\tmapMutations\n} from 'vuex'\n\nexport default {\n\tcomputed: mapState(['userId']),\n\tdata() {\n\t\treturn {\n\t\t\tcurOrderItems: [],\n\t\t\twaitOrderItems: [],\n\t\t\tisOrderDetailVisible: false,\n\t\t\tcurOrderNum: 0,\n\t\t\tcurOrderLocation: \"\",\n\t\t\tcurOrderDetail: [],\n\t\t\torderStatusItems: ['待接单', '正在进行单'],\n\t\t\tcurrent: 0,\n\t\t\tisShowTakeOrderButton: true,\n\t\t\tisShowScanValveButton: false,\n\t\t\tshowVCDetail: false,\n\t\t\t//显示stampIds\n\t\t\tshowDeliverDetail: undefined,\n\t\t\t//瓶阀详细信息\n\t\t\tVCDetail: {},\n\t\t\t//扫码获取valve信息\n\t\t\tValve: {},\n\t\t\t//将要配送的stampId数组\n\t\t\tcldToDeliver: [],\n\t\t\tfabContent: [{\n\t\t\t\ttext: \"当前钢瓶\",\n\t\t\t\ticonPath: \"../../static/icons/list.png\",\n\t\t\t}],\n\t\t\tpattern: {\n\n\t\t\t},\n\t\t\tsubmitType: \"\",\n\t\t\tlocation: \"\",\n\t\t\tnextDelivererId: 0,\n\t\t\tcurLat: \"\",\n\t\t\tcurLng: \"\",\n\t\t}\n\t},\n\tmethods: {\n\t\t...mapMutations(['toOrderMap', 'changeLat', 'changeLng']),\n\t\t//点击显示分隔栏模块\n\t\tonClickItem(e) {\n\t\t\tif (e.currentIndex == 0) {\n\t\t\t\tthis.current = 0;\n\t\t\t\tthis.isShowTakeOrderButton = true;\n\t\t\t\tthis.isShowScanValveButton = false;\n\t\t\t\tthis.getWaitOrder();\n\t\t\t} else if (e.currentIndex == 1) {\n\t\t\t\tthis.current = 1;\n\t\t\t\tthis.isShowTakeOrderButton = false;\n\t\t\t\tthis.isShowScanValveButton = true;\n\t\t\t\tthis.getCurrentOrder();\n\t\t\t}\n\t\t},\n\t\t//刷新页面\n\t\trefreshOrder() {\n\t\t\tuni.startPullDownRefresh({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.getWaitOrder();\n\t\t\t\t\tthis.getCurrentOrder();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//获取待接订单\n\t\tgetWaitOrder() {\n\t\t\tuni.request({\n\t\t\t\turl: this.constVal.baseURL + '/system/order/cur_list',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\ttoStaffIdFirst: this.userId,\n\t\t\t\t\ttoStaffIdSecond: this.userId,\n\t\t\t\t\torderStatusFirst: \"0\",\n\t\t\t\t\torderStatusSecond: \"0\",\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.waitOrderItems = res.data.rows;\n\t\t\t\t\tthis.waitOrderItems.forEach(item => {\n\t\t\t\t\t\tif (item.orderStatus == '0') {\n\t\t\t\t\t\t\titem.orderStatus = '未接单'\n\t\t\t\t\t\t} else if (item.orderStatus == '1') {\n\t\t\t\t\t\t\titem.orderStatus = '已接单'\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t//获取正在进行单\n\t\tgetCurrentOrder() {\n\t\t\tuni.request({\n\t\t\t\turl: this.constVal.baseURL + '/system/order/cur_list',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\tcurrentStaffId: this.userId,\n\t\t\t\t\torderStatusFirst: \"1\",\n\t\t\t\t\torderStatusSecond: \"1\",\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.curOrderItems = res.data.rows;\n\t\t\t\t\tthis.curOrderItems.forEach(item => {\n\t\t\t\t\t\tif (item.orderStatus == '0') {\n\t\t\t\t\t\t\titem.orderStatus = '未接单'\n\t\t\t\t\t\t} else if (item.orderStatus == '1') {\n\t\t\t\t\t\t\titem.orderStatus = '已接单'\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 展示抽屉，显示订单详情\n\t\tshowOrderDetail(orderNum, clientLocation) {\n\t\t\tthis.isOrderDetailVisible = true;\n\t\t\tthis.curOrderLocation = clientLocation;\n\t\t\tthis.curOrderNum = orderNum;\n\t\t\tuni.request({\n\t\t\t\turl: this.constVal.baseURL + '/system/order/cur_list/' + orderNum,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.curOrderDetail = res.data.data;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 接单\n\t\ttakeOrder() {\n\t\t\tvar sysOrder = {};\n\t\t\tsysOrder.orderNum = this.curOrderNum;\n\t\t\tsysOrder.currentStaffId = this.userId;\n\t\t\tuni.request({\n\t\t\t\turl: this.constVal.baseURL + '/system/order',\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: {\n\t\t\t\t\torderNum: this.curOrderNum,\n\t\t\t\t\tcurrentStaffId: this.userId,\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\ttitle: '接单成功',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.isOrderDetailVisible = false;\n\t\t\t\t\t\tthis.refreshOrder();\n\t\t\t\t\t\tthis.nextDelivererId = res.data.data;\n\t\t\t\t\t\tthis.sendPush();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 扫码转接\n\t\tScanValveToTrans() {\n\t\t\tthis.submitType = \"transport\";\n\t\t\tthis.scanQRCode();\n\t\t},\n\t\t// 查看地图线路\n\t\tshowMapToHome() {\n\t\t\tvar lat = 0;\n\t\t\tvar lng = 0;\n\t\t\tuni.getLocation({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tlat = res.latitude;\n\t\t\t\t\tlng = res.longitude;\n\t\t\t\t\tthis.changeLat(lat);\n\t\t\t\t\tthis.changeLng(lng);\n\t\t\t\t\tthis.toOrderMap(this.curOrderLocation);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tscanQRCode() {\n\t\t\tvar _this = this;\n\t\t\tuni.scanCode({\n\t\t\t\tscanType: ['qrCode'],\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t_this.Valve = JSON.parse((res.result).trim());\n\t\t\t\t\t_this.getVCDetail(_this.Valve.valveNum);\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 扫码入户\n\t\tScanValveToHome() {\n\t\t\tthis.submitType = \"toHome\";\n\t\t\tthis.scanQRCode();\n\t\t},\n\t\t//获取VC详细信息\n\t\tgetVCDetail(valveNum) {\n\t\t\tuni.request({\n\t\t\t\turl: this.constVal.baseURL + '/system/order/VC/' + valveNum,\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.VCDetail = res.data.data;\n\t\t\t\t\tthis.showVCDetail = true;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//加入钢瓶到数组\n\t\tconfirmAddCld() {\n\t\t\t// this.cldToDeliver.push(this.VCDetail.stampId);\n\t\t\t// uni.showToast({\n\t\t\t// \ticon: 'success',\n\t\t\t// \ttitle: '添加成功',\n\t\t\t// })\n\t\t\tthis.checkAddCldStampId(this.cldToDeliver, this.VCDetail.stampId);\n\t\t},\n\t\t//显示选中stampId列表\n\t\ttriggerShowModal(e) {\n\t\t\tthis.showDeliverDetail = true;\n\t\t\tuni.getLocation({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.location = res.latitude + \",\" + res.longitude;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//关闭VCdetail提示框\n\t\tbindHideVCDetail() {\n\t\t\tthis.showVCDetail = false;\n\t\t},\n\t\t//关闭stampIds提示框\n\t\thideDeliverDetail() {\n\t\t\tthis.showDeliverDetail = false;\n\t\t},\n\t\t//删除当前钢瓶\n\t\tremoveCurCld(index) {\n\t\t\tthis.cldToDeliver.splice(index, 1);\n\t\t},\n\t\t//配送钢瓶\n\t\tconfirmDeliver() {\n\t\t\t//检测是否为空\n\t\t\tif (this.cldToDeliver.length == 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '请添加钢瓶'\n\t\t\t\t})\n\t\t\t\tthis.showDeliverDetail = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//转移资产\n\t\t\tif (this.submitType == \"transport\") {\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.constVal.baseURL + '/system/order/delCld',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstampIds: this.cldToDeliver,\n\t\t\t\t\t\ttoUserId: this.userId,\n\t\t\t\t\t\tlocation: this.location,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.cldToDeliver = [];\n\t\t\t\t\t\tthis.refreshOrder();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\ttitle: '钢瓶成功转移',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// 运送入户\n\t\t\t} else if (this.submitType == \"toHome\") {\n\t\t\t\tvar sysOrder = {};\n\t\t\t\tvar cldMove = {};\n\t\t\t\tsysOrder.orderNum = this.curOrderNum;\n\t\t\t\tsysOrder.clientLocation = this.location;\n\t\t\t\tcldMove.stampIds = this.cldToDeliver;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.constVal.baseURL + '/system/order/home',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsysOrder,\n\t\t\t\t\t\tcldMove\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.cldToDeliver = [];\n\t\t\t\t\t\tthis.refreshOrder();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\ttitle: '钢瓶成功入户',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// websocket推送消息\n\t\tsendPush() {\n\t\t\tuni.request({\n\t\t\t\turl: 'http://localhost:9999/websocket/message/' + this.nextDelivererId,\n\t\t\t\t// url: 'http://localhost:9999/websocket/message/3',\n\t\t\t\tdata: {\n\t\t\t\t\tdata: \"该接单了\",\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\tonLoad() {\n\t\tthis.refreshOrder();\n\t},\n\tonPullDownRefresh() {\n\t\tsetTimeout(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t}, 500);\n\t}\n}\n"],"sourceRoot":""}